<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI OS - Home</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Nunito+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

        <!-- NEW: AI-Powered Notes Sidebar -->
        <div class="notes-sidebar">
            <div class="notes-header">
                <h2>Scratchpad</h2>
                <button class="close-notes-btn" aria-label="Close Notes">
                    <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"/></svg>
                </button>
            </div>
            <textarea id="notes-textarea" placeholder="Your thoughts..."></textarea>
        </div>

    <div class="app-store-window">
        <div class="app-store-content">
            <div class="app-store-header">
                <form class="search-form">
                    <svg class="search-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.612 1.888T16 9.5q0 1.45-.55 2.725T14.1 14.4l5.6 5.6q.275.275.275.7t-.275.7q-.275.275-.7.275t-.7-.275l-5.6-5.6q-1.225.8-2.6.8Z"/></svg>
                    <input type="search" id="app-search-input" placeholder="Search apps...">
                </form>
                <button class="close-app-store-btn" aria-label="Close App Store">
                    <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"/></svg>
                </button>
            </div>
            <div class="app-list"></div>
        </div>
    </div>

        <!-- AI TRIP PLANNER WINDOW -->
        <div class="planner-window">
            <div class="planner-content">
                <div class="planner-header">
                    <h3>AI Trip Planner</h3>
                    <button class="close-planner-btn" aria-label="Close Planner">
                        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"/></svg>
                    </button>
                </div>
    
                <div class="planner-body">
                    <!-- Initial state: shows a prompt to the user -->
                    <div class="planner-initial-state" id="planner-initial-view">
                        <svg class="planner-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M22 13v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7v2H4v16h16v-7h2m-5-3.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m-3.56-5.4l-.1.1L17 7.82l-5.6 5.6L10 14l.58-1.42l5.6-5.6l-3.62-3.62z"/></svg>
                        <h2>Plan Your Next Adventure</h2>
                        <p>Tell me where you want to go and for how long. I'll generate a custom itinerary for you.</p>
                    </div>
                    
                    <!-- Loading state: shows a spinner -->
                    <div class="planner-loading-state hidden" id="planner-loading-view">
                        <div class="planner-spinner"></div>
                        <p>Crafting your perfect trip...</p>
                    </div>
                    
                    <!-- Results state: where the plan will be rendered -->
                    <div class="planner-results-state hidden" id="planner-results-view">
                        <!-- The generated plan will be inserted here by JavaScript -->
                    </div>
                </div>
    
                <div class="planner-footer">
                    <form class="planner-form" id="planner-form">
                        <input type="text" id="planner-input" placeholder="e.g., A relaxing 5-day trip to Bali" autocomplete="off">
                        <button type="submit" aria-label="Generate Plan">
                            <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M3 20V4l19 8l-19 8Z"></path></svg>
                        </button>
                    </form>
                </div>
            </div>
        </div>

    <div class="chat-overlay hidden"></div>



    <main class="os-container">

        <!-- NEW Minimalist Lockscreen -->
    <div id="lockscreen">
        <div class="lockscreen-background"></div>

        <!-- Main content in the center -->
        <div class="lockscreen-main-center">
            <div id="lockscreen-center-date">Fri, Aug 22</div>
            <div id="lockscreen-center-time">00:45</div>
        </div>

        <!-- User info at the bottom -->
        <div class="lockscreen-user">
            <div class="user-avatar-container">
                <img src="assets/icons/memo.png" alt="User Avatar">
            </div>
            <span class="user-name">Welcome to VibeOS!</span>
            <p class="user-prompt">Click anywhere to Enter</p>
        </div>
    </div>

    <!-- ADD THIS WIDGET -->
    <div class="system-widget">
        <div id="clock-display" class="clock">10:10 PM</div>
        <div id="date-display" class="date">Monday, 20 May</div>
        <div id="weather-display" class="weather">
            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m4.5 13.9L15 14.5V12h-2.5V7H15v2.5l1.5-1.4l1.4 1.4l-1.4 1.5l1.4 1.5l-1.4 1.4Z"/></svg>
            <span>--Â°C</span>
        </div>
    </div>

     <!-- NEW: Settings App Window -->
<div id="settings-window" class="settings-window hidden">
    <div class="settings-sidebar">
        <div class="settings-header">
            <h2>Settings</h2>
            <button id="close-settings-btn" class="settings-close-btn" aria-label="Close Settings">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6L6.4 19Z"/></svg>
            </button>
        </div>
        <ul class="settings-nav">
            <li class="settings-nav-item active" data-category="general"><span>General</span></li>
            <li class="settings-nav-item" data-category="appearance"><span>Appearance</span></li>
            <li class="settings-nav-item" data-category="apps"><span>Apps</span></li>
            <li class="settings-nav-item" data-category="ai"><span>AI Assistant</span></li>
            <li class="settings-nav-item" data-category="about"><span>About VibeOS</span></li>
        </ul>
    </div>
    <div class="settings-content">
        <div class="settings-pane active" data-category="general">
            <h3>General Settings</h3>
            <div class="settings-group">
                <label for="setting-username">Your Name</label>
                <input type="text" id="setting-username" placeholder="Enter your name">
            </div>
            <div class="settings-group">
                <label for="setting-timezone">Time Zone</label>
                <select id="setting-timezone">
                    <option value="auto">Auto (Based on Location)</option>
                    <option value="UTC">UTC</option>
                    <option value="EST">Eastern Time (ET)</option>
                    <option value="PST">Pacific Time (PT)</option>
                    <!-- Add more timezones as needed -->
                </select>
            </div>
        </div>
        <div class="settings-pane" data-category="appearance">
            <h3>Appearance</h3>
            <div class="settings-group">
                <label>Theme</label>
                <div class="settings-options-row">
                    <button class="settings-option-btn" data-theme="light">
                        <span>Light</span>
                    </button>
                    <button class="settings-option-btn" data-theme="dark">
                        <span>Dark</span>
                    </button>
                </div>
            </div>
            <div class="settings-group">
                <label>Wallpaper</label>
                <div class="settings-options-grid" id="wallpaper-options">
                    <!-- Wallpapers will be populated by JS -->
                </div>
            </div>
        </div>
        <div class="settings-pane" data-category="apps">
            <h3>App Management</h3>
            <div class="settings-group">
                <label>Your Docked Apps</label>
                <ul id="settings-docked-apps-list" class="settings-app-list">
                    <!-- Docked apps will be listed here -->
                </ul>
            </div>
        </div>
        <div class="settings-pane" data-category="ai">
            <h3>AI Assistant</h3>
            <div class="settings-group">
                <label for="setting-ai-name">Assistant Name</label>
                <input type="text" id="setting-ai-name" value="VibeOS AI" disabled>
            </div>
            <div class="settings-group">
                <label for="setting-ai-personality">Personality</label>
                <select id="setting-ai-personality">
                    <option>Helpful</option>
                    <option>Creative</option>
                    <option>Concise</option>
                </select>
            </div>
            <div class="settings-group">
                <label>Data Usage</label>
                <p>Your conversations help improve the AI. Data is anonymized.</p>
            </div>
        </div>
        <div class="settings-pane" data-category="about">
            <h3>About VibeOS</h3>
            <div class="settings-about-logo">
                <img src="assets/icons/memo.png" alt="VibeOS Logo" width="64" height="64">
            </div>
            <p class="settings-about-version">Version 1.0.0</p>
            <p class="settings-about-copyright">&copy; 2024 VibeOS Project. All rights reserved.</p>
            <div class="settings-group">
                <button id="setting-reset-tour" class="settings-text-btn">Restart Onboarding Tour</button>
            </div>
        </div>
    </div>
</div>
        
        <div class="background-image"></div>

                <!-- APP WINDOW CONTAINER -->
                <div class="app-window-container" id="app-window-container">
                    <!-- App windows will be dynamically added here by JavaScript -->
                </div>

        <!-- MOVED & REPURPOSED: The dock now lives at the top -->
        <!-- In index.html, REPLACE the entire app-dock-container div -->
<!-- REPLACE with this new structure -->
<div class="top-bar-container">
    <!-- VIBEOS DYNAMIC ISLAND / ACTIVITY POD -->
    <div class="activity-pod" id="activity-pod">
        <!-- COMPACT VIEW (Always Visible When Active) -->
        <div class="pod-compact-view">
            <div class="pod-icon-container" id="pod-icon-container">
                <!-- Icon will be inserted here by JS -->
            </div>
            <div class="pod-main-content" id="pod-main-content">
                <!-- e.g., "Focus Timer" -->
            </div>
        </div>

        <!-- EXPANDED VIEW (Visible on Hover) -->
        <div class="pod-expanded-view">
            <div class="pod-expanded-main" id="pod-expanded-main">
                <!-- e.g., Album Art & Track Info or Timer Countdown -->
            </div>
            <div class="pod-expanded-actions" id="pod-expanded-actions">
                <!-- e.g., Music Controls or Timer Controls -->
            </div>
        </div>
    </div>
    <!-- END VIBEOS DYNAMIC ISLAND -->

    <div class="app-dock">
        <!-- Docked app icons will be dynamically inserted here -->
    </div>
</div>

        <!-- NEW, CORRECTED STRUCTURE -->
<div class="chat-view-container">
    <div class="ai-message-list-container">
        <div class="ai-message-list">
            <div class="ai-typing-indicator hidden">
                <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
        </div>
    </div>
</div>
    
                
                <audio id="timer-notification" src="assets/sounds/notification.mp3" preload="auto"></audio>
        <audio id="music-player" crossorigin="anonymous"></audio>


        <footer class="bottom-bar">
            <div class="user-group">
                <img src="https://i.pravatar.cc/150?img=1" alt="User 1" class="avatar">
                <img src="https://i.pravatar.cc/150?img=2" alt="User 2" class="avatar">
                <img src="https://i.pravatar.cc/150?img=3" alt="User 3" class="avatar">
            </div>

            <!-- V2: Modified Center Console -->
            <div class="center-console">
                <div class="main-user-avatar">
                    <img src="assets/icons/memo.png" alt="Main User Avatar">
                </div>
                <div class="ask-bar">
                    <form class="compact-input-form">
                        <div class="search-provider-selector">
                            <button type="button" id="search-provider-btn" aria-label="Choose Search Provider">
                                <img id="search-provider-icon" src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg" width="20" height="20" alt="Current Search Provider">
                            </button>
                            <div class="search-provider-menu" id="search-provider-menu"></div>
                        </div>
                        <textarea id="compact-input" placeholder="Ask something..." rows="1"></textarea>
                        <button type="button" id="voice-mode-btn" class="voice-mode-btn" aria-label="Use Voice">
                            <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 14q-1.25 0-2.125-.875T9 11V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 1.25-.875 2.125T12 14Zm-1 7v-3.075q-2.6-.35-4.3-2.325T4 11H6q0 2.075 1.463 3.538T11 16v-1H8v-2h8v2h-3v1q2.075 0 3.538-1.463T18 11h2q0 2.225-1.7 4.2T13 17.925V21h-2Z"/></svg>
                        </button>
                        <button type="submit" aria-label="Send Message">
                            <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M3 20V4l19 8l-19 8Z"></path></svg>
                        </button>
                    </form>
                </div>
                <!-- The compact-input-overlay div has been completely removed. -->
            </div>

            <div class="right-user">
                <img src="https://i.pravatar.cc/150?img=5" alt="User 4" class="avatar">
            </div>
        </footer>

    </main>

    <script src="js/config.js" defer></script>
    <script src="js/os-core.js" defer></script>
    <script src="js/main.js" defer></script>

</body>
</html>